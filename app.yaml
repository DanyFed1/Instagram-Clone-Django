runtime: python310
entrypoint: gunicorn -b :$PORT --access-logfile - --error-logfile - DjangoGram.wsgi

instance_class: F1
automatic_scaling:
  min_instances: 0
  max_instances: 2
  target_cpu_utilization: 0.8
  min_pending_latency: automatic
  max_pending_latency: automatic

env_variables:
  DJANGO_SECRET_KEY: "your_secret key"
  DJANGO_DEBUG: "True"
  DB_NAME: "your_db"
  DB_USER: "your_user"
  DB_PASSWORD: "your_password"
  DB_HOST: "34.118.55.166"
  DB_PORT: "5432"
  APPENGINE_URL: "https://djangogram-pet-projec.lm.r.appspot.com"
  CLOUD_SQL_CONNECTION_NAME: "connection_name"
  GS_BUCKET_NAME: "bucket_name"
  SOCIAL_AUTH_GITHUB_KEY: "key_for_github"
  SOCIAL_AUTH_GITHUB_SECRET: "key_for_google"

beta_settings:
  cloud_sql_instances: "instance"

handlers:
  - url: /static
    static_dir: static/

  - url: /.*
    secure: always
    redirect_http_response_code: 301
    script: auto